<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Income & Expense Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <h1> BUDGETFLOW </h1>
            <p class="subtitle">Track your finances effortlessly</p>
        </header>

        <!-- Family Member Selector -->
        <section class="member-selector-section">
            <div class="card member-selector-card">
                <div class="member-selector-header">
                    <h3>ðŸ‘¤ Family Member</h3>
                    <p class="member-subtitle">Select a family member to track their finances</p>
                </div>
                <div class="member-selector-controls">
                    <div class="form-group">
                        <label for="memberSelect">Select Member:</label>
                        <select id="memberSelect">
                            <option value="default">All Members (Default)</option>
                            <option value="mom">Mom</option>
                            <option value="dad">Dad</option>
                            <option value="sister">Sister</option>
                            <option value="brother">Brother</option>
                            <option value="grandma">Grandma</option>
                            <option value="grandpa">Grandpa</option>
                            <option value="other">Other (Custom Name)</option>
                        </select>
                    </div>
                    <div class="form-group" id="customMemberGroup" style="display: none;">
                        <label for="customMemberName">Custom Member Name:</label>
                        <div class="custom-member-input-group">
                            <input type="text" id="customMemberName" placeholder="Enter custom name" maxlength="30">
                            <button class="btn btn-primary" id="addCustomMemberBtn">Add</button>
                        </div>
                    </div>
                </div>
                <div class="current-member-display">
                    <span class="current-member-label">Currently Viewing:</span>
                    <span class="current-member-name" id="currentMemberDisplay">All Members (Default)</span>
                </div>
            </div>
        </section>

        <!-- Dashboard Cards -->
        <section class="dashboard">
            <div class="card balance-card">
                <h3>Current Balance</h3>
                <p class="amount" id="balance">â‚¹0.00</p>
            </div>
            <div class="card income-card">
                <h3>Total Income</h3>
                <p class="amount income-text" id="totalIncome">â‚¹0.00</p>
            </div>
            <div class="card expense-card">
                <h3>Total Expense</h3>
                <p class="amount expense-text" id="totalExpense">â‚¹0.00</p>
            </div>
        </section>

        <!-- Month Selector -->
        <section class="month-selector">
            <label for="monthFilter">Filter by Month:</label>
            <input type="month" id="monthFilter" />
            <button class="btn btn-secondary" id="clearFilter">Show All</button>
            <button class="btn btn-info" id="toggleAnalysisBtn" onclick="toggleIncomeAnalysisView()">View Income
                Groups</button>
        </section>

        <!-- Income Analysis Section (Hidden by default) -->
        <section id="incomeAnalysis" class="income-analysis-section" style="display: none;">
            <div class="card analysis-card">
                <h2>Income Analysis</h2>
                <div id="analysisContainer">
                    <!-- Dynamic Content -->
                </div>
            </div>
        </section>

        <!-- Add Transaction Form -->
        <section class="form-section">
            <div class="card form-card">
                <h2>Add Transaction</h2>
                <form id="transactionForm">
                    <div class="form-group">
                        <label for="amount">Amount (â‚¹)</label>
                        <input type="number" id="amount" step="0.01" min="0.01" required>
                    </div>

                    <div class="form-group">
                        <label for="type">Type</label>
                        <select id="type" required>
                            <option value="">Select Type</option>
                            <option value="income">Income</option>
                            <option value="expense">Expense</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="reason">Reason</label>
                        <input type="text" id="reason" placeholder="e.g., Salary, Groceries, Rent" required>
                    </div>

                    <div class="form-group">
                        <label for="date">Date</label>
                        <input type="date" id="date" required>
                    </div>

                    <button type="submit" class="btn btn-primary">Add Transaction</button>
                </form>
            </div>
        </section>

        <!-- Transaction History -->
        <section class="history-section" id="historySection">
            <div class="card history-card">
                <h2>Transaction History</h2>

                <!-- Empty State -->
                <div id="emptyState" class="empty-state">
                    <p>ðŸ“‹ No transactions yet. Add your first transaction above!</p>
                </div>

                <!-- Transaction Table -->
                <div id="tableContainer" class="table-container" style="display: none;">
                    <table id="transactionTable">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Reason</th>
                                <th>Type</th>
                                <th>Amount</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="transactionBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>

</html>